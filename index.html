<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MOVA: Інтегроване середовище розробки</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; display: flex; flex-direction: column; height: 100vh; margin: 0; background-color: #f8f9fa; color: #212529; }
        h1 { text-align: center; margin: 1rem 0; }
        .tabs { display: flex; justify-content: center; margin-bottom: 1rem; border-bottom: 1px solid #dee2e6; }
        .tab { padding: 0.5rem 1rem; cursor: pointer; border-bottom: 2px solid transparent; transition: all 0.15s; }
        .tab.active { border-bottom-color: #007bff; color: #007bff; font-weight: bold; }
        .tab:hover { background-color: #e9ecef; }
        .container { display: flex; flex: 1; gap: 1rem; padding: 0 1rem 1rem; overflow: hidden; }
        .panel { display: flex; flex-direction: column; flex: 1; min-width: 0; }
        .file-browser-panel { flex: 0 0 250px; border-right: 1px solid #dee2e6; padding-right: 1rem; overflow-y: auto; }
        .panel-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
        .panel-header h2 { font-size: 1rem; margin: 0; color: #495057; }
        textarea { flex: 1; font-family: "Courier New", Courier, monospace; font-size: 14px; padding: 0.5rem; border: 1px solid #ced4da; border-radius: 4px; resize: none; }
        textarea:focus { outline: none; border-color: #80bdff; box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25); }
        input[type="text"] { width: 100%; padding: 0.5rem; border: 1px solid #ced4da; border-radius: 4px; font-size: 14px; }
        input[type="text"]:focus { outline: none; border-color: #80bdff; box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25); }
        #file-list { list-style: none; padding: 0; margin: 0; }
        #file-list li { padding: 0.3rem 0.5rem; cursor: pointer; border-radius: 4px; user-select: none; }
        #file-list li:hover { background-color: #e9ecef; }
        #file-list li.active { background-color: #007bff; color: white; }
        button { padding: 0.25rem 0.75rem; font-size: 0.9rem; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; transition: background-color 0.15s ease-in-out; }
        button:hover { background-color: #0056b3; }
        button:disabled { background-color: #6c757d; cursor: not-allowed; }
        button.danger { background-color: #dc3545; }
        button.danger:hover { background-color: #c82333; }
        button.success { background-color: #28a745; }
        button.success:hover { background-color: #218838; }
        .btn-group { display: flex; gap: 0.5rem; }
        .log-area { background-color: #343a40; color: #f8f9fa; padding: 0.5rem; border-radius: 4px; font-family: "Courier New", Courier, monospace; font-size: 12px; overflow-y: auto; max-height: 200px; }
        .hidden { display: none; }
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.25rem; font-weight: bold; }
        .status { padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8rem; font-weight: bold; }
        .status.success { background-color: #d4edda; color: #155724; }
        .status.error { background-color: #f8d7da; color: #721c24; }
        .status.warning { background-color: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <h1>MOVA: Інтегроване середовище розробки</h1>
    <div class="tabs">
        <div class="tab active" data-tab="editor">Редактор</div>
        <div class="tab" data-tab="vnl">VNL Парсер</div>
        <div class="tab" data-tab="runner">Виконавець планів</div>
        <div class="tab" data-tab="validation">Валідація</div>
        <div class="tab" data-tab="lexicon">Лексикон</div>
        <div class="tab" data-tab="build">Збірка</div>
    </div>

    <!-- Вкладка Редактор -->
    <div id="editor-tab" class="container">
        <div class="panel file-browser-panel">
            <h2>Шаблони (templates/ua)</h2>
            <ul id="file-list"></ul>
        </div>
        <div class="panel">
            <div class="panel-header">
                <h2>Український шаблон (вхід)</h2>
                <button id="save-button" disabled>Зберегти</button>
            </div>
            <textarea id="uk-input" placeholder="Виберіть файл ліворуч або вставте JSON..."></textarea>
        </div>
        <div class="panel">
            <h2>Канонічний JSON (вихід)</h2>
            <textarea id="en-output" readonly placeholder="Результат трансляції..."></textarea>
        </div>
    </div>

    <!-- Вкладка VNL Парсер -->
    <div id="vnl-tab" class="container hidden">
        <div class="panel">
            <div class="panel-header">
                <h2>VNL Речення</h2>
                <button id="parse-vnl-btn" class="success">Парсити</button>
            </div>
            <input type="text" id="vnl-input" placeholder="Введіть речення природною мовою, наприклад: 'send message to general with text Hello'">
        </div>
        <div class="panel">
            <h2>AST (абстрактне синтаксичне дерево)</h2>
            <textarea id="vnl-ast" readonly placeholder="Результат парсингу..."></textarea>
        </div>
        <div class="panel">
            <h2>Згенерований план</h2>
            <textarea id="vnl-plan" readonly placeholder="Український план..."></textarea>
        </div>
    </div>

    <!-- Вкладка Виконавець планів -->
    <div id="runner-tab" class="container hidden">
        <div class="panel file-browser-panel">
            <h2>Канонічні плани</h2>
            <ul id="plan-list"></ul>
        </div>
        <div class="panel">
            <div class="panel-header">
                <h2>План для виконання</h2>
                <div class="btn-group">
                    <button id="run-plan-btn" class="success">Виконати</button>
                    <button id="stop-plan-btn" class="danger" disabled>Зупинити</button>
                </div>
            </div>
            <textarea id="plan-content" readonly placeholder="Виберіть план ліворуч..."></textarea>
        </div>
        <div class="panel">
            <h2>Логи виконання</h2>
            <div id="execution-log" class="log-area"></div>
        </div>
    </div>

    <!-- Вкладка Валідація -->
    <div id="validation-tab" class="container hidden">
        <div class="panel">
            <div class="panel-header">
                <h2>Файл для валідації</h2>
                <button id="validate-btn">Валідувати</button>
            </div>
            <textarea id="validation-input" placeholder="Вставте JSON для валідації..."></textarea>
        </div>
        <div class="panel">
            <h2>Результати валідації</h2>
            <div id="validation-results"></div>
        </div>
        <div class="panel">
            <h2>Статус</h2>
            <div id="validation-status"></div>
        </div>
    </div>

    <!-- Вкладка Лексикон -->
    <div id="lexicon-tab" class="container hidden">
        <div class="panel">
            <h2>Лексикон (lexicon_uk.json)</h2>
            <textarea id="lexicon-content" placeholder="Завантаження лексикону..."></textarea>
        </div>
        <div class="panel">
            <h2>Allowlist (allowlist_structural.json)</h2>
            <textarea id="allowlist-content" placeholder="Завантаження allowlist..."></textarea>
        </div>
        <div class="panel">
            <div class="panel-header">
                <h2>Дії</h2>
            </div>
            <div class="btn-group">
                <button id="reload-lexicon-btn">Перезавантажити</button>
                <button id="save-lexicon-btn">Зберегти зміни</button>
            </div>
        </div>
    </div>

    <!-- Вкладка Збірка -->
    <div id="build-tab" class="container hidden">
        <div class="panel">
            <h2>Команди збірки</h2>
            <div class="form-group">
                <button id="build-all-btn" class="success">Повна збірка</button>
            </div>
            <div class="form-group">
                <button id="translate-btn">Переклад на англійський</button>
            </div>
            <div class="form-group">
                <button id="validate-all-btn">Валідувати все</button>
            </div>
            <div class="form-group">
                <button id="build-manifest-btn">Зібрати маніфест</button>
            </div>
            <div class="form-group">
                <button id="check-lexicon-btn">Перевірити лексикон</button>
            </div>
        </div>
        <div class="panel">
            <h2>Логи збірки</h2>
            <div id="build-log" class="log-area"></div>
        </div>
        <div class="panel">
            <h2>Статус</h2>
            <div id="build-status"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>